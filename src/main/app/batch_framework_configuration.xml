<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns:core="http://www.mulesoft.org/schema/mule/core" xmlns:https="http://www.mulesoft.org/schema/mule/https" xmlns:sftp="http://www.mulesoft.org/schema/mule/sftp"
	xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:spring="http://www.springframework.org/schema/beans" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/https http://www.mulesoft.org/schema/mule/https/current/mule-https.xsd
http://www.mulesoft.org/schema/mule/sftp http://www.mulesoft.org/schema/mule/sftp/current/mule-sftp.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd">

	<configuration doc:name="ReceiverThreadingProfile"
		doc:description="Threading Profile for Receiver Threads">
		<default-receiver-threading-profile
			maxThreadsActive="10" threadTTL="20000" doThreading="true"
			poolExhaustedAction="WAIT" />
	</configuration>

	<configuration doc:name="DispatcherThreadingProfile"
		doc:description="Threading Profile for Dispatcher Threads">
		<default-dispatcher-threading-profile
			maxThreadsActive="10" threadTTL="10000" doThreading="true"
			poolExhaustedAction="WAIT" />
	</configuration>

	<!-- HTTP Listener Configuration -->
	<http:listener-config name="file_batch_api_httpListenerConfiguration"
		host="${http.batch.host}" port="${http.batch.port}" doc:name="HTTP Listener Configuration"
		doc:description="Global HTTP Configuration" />

	<!-- HTTPS Endpoint Configuration -->
	<!-- <https:connector name="endpointHTTPSConfiguration"
		doc:description="Configuration for HTTPS Connectors">
		<https:tls-client path="${tls.batch.client.path}"
			storePassword="${tls.batch.client.storepassword}" />
		<https:tls-key-store path="${tls.batch.keystore.path}"
			keyPassword="${tls.batch.keystore.password}" storePassword="${tls.batch.keystore.storepassword}" />
		<https:tls-server path="${tls.batch.server.path}"
			storePassword="${tls.batch.server.storepassword}" />
		<reconnect frequency="${https.batch.reconnectFrequency}"
			count="${https.batch.reconnection}" blocking="false" />
	</https:connector> -->

	<!-- SFTP Endpoint Configuration -->
	<sftp:endpoint host="${sftp.host}" port="${sftp.port}"
		path="${sftp.path}" user="${sftp.username}" password="${sftp.password}" name="sftpInboundProperties" responseTimeout="10000" doc:name="SFTP"
		exchange-pattern="one-way" doc:description="SFTP Inbound Configuration Properties.
Include: 
- Polling Frequency 
- Reconnect Strategy">
		<reconnect frequency="${sftp.reconnectFrequency}" count="${sftp.reconnection}" blocking="false" />
	</sftp:endpoint>
	
</mule>
